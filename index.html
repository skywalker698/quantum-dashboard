<!-- index.html: Quantum AI Dashboard with Forecast Simulation -->
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quantum AI Forecast Dashboard</title>
  <meta name="theme-color" content="#0f172a">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: 'Prompt', sans-serif; background-color: #f9fafb; }
    .container { max-width: 1300px; margin-top: 2rem; }
    .chart-container, .table-container { background: white; border-radius: 1rem; box-shadow: 0 4px 24px rgba(0,0,0,0.05); padding: 2rem; margin-bottom: 2rem; }
    .btn-forecast { float: right; margin-bottom: 1rem; }
    footer { background-color: #0f172a; color: white; padding: 1rem; text-align: center; }
  </style>
</head>
<body>

<div class="container">
  <h1 class="text-center mb-4">üìä Quantum AI Dashboard with Forecasting</h1>

  <div class="chart-container">
    <h4>‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏£‡∏≤‡∏¢‡∏õ‡∏µ (10 ‡∏õ‡∏µ ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á + ‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏õ‡∏µ 2569)</h4>
    <canvas id="forecastChart" height="100"></canvas>
    <button class="btn btn-primary btn-sm btn-forecast" onclick="toggleScenario()">üéØ ‡∏î‡∏π AI Forecast Simulation</button>
  </div>

  <div class="table-container">
    <h4 class="mb-3">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡πà‡∏≤‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</h4>
    <table class="table table-striped">
      <thead class="table-dark">
        <tr>
          <th>‡∏õ‡∏µ</th><th>‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏≠‡πâ‡∏≠‡∏¢ (‡∏ï‡∏±‡∏ô)</th><th>Yield</th><th>‡∏Å‡∏≥‡πÑ‡∏£</th><th>ROI (%)</th><th>Scenario</th>
        </tr>
      </thead>
      <tbody id="forecastTable"></tbody>
    </table>
  </div>
</div>

<footer>
  ü§ñ Quantum AI | Forecast System using Probabilistic + Quantum Concepts
</footer>

<script>
const baseData = [
  { year: 2560, cane: 980000, yield: 116.0, profit: 412000000 },
  { year: 2561, cane: 1010000, yield: 117.0, profit: 428000000 },
  { year: 2562, cane: 1040000, yield: 117.8, profit: 444000000 },
  { year: 2563, cane: 1070000, yield: 118.5, profit: 460000000 },
  { year: 2564, cane: 1100000, yield: 119.0, profit: 476000000 },
  { year: 2565, cane: 1130000, yield: 119.5, profit: 500000000 },
  { year: 2566, cane: 1170000, yield: 120.0, profit: 530000000 },
  { year: 2567, cane: 1300000, yield: 120.8, profit: 572000000 }
];

let forecastScenarios = {
  neutral: { cane: 1320000, yield: 122.0, profit: 592000000 },
  optimistic: { cane: 1350000, yield: 123.0, profit: 610000000 },
  pessimistic: { cane: 1290000, yield: 121.0, profit: 580000000 }
};

let activeScenario = "neutral";

function calculateROI(profit, cane) {
  const revenue = profit * 1.5;
  return ((profit / revenue) * 100).toFixed(2);
}

function renderTableAndChart() {
  const table = document.getElementById("forecastTable");
  table.innerHTML = "";
  const data = [...baseData];
  const scenario = forecastScenarios[activeScenario];
  data.push({ year: 2569, ...scenario });

  const years = [], caneData = [], yieldData = [], profitData = [], roiData = [];

  data.forEach((row, i) => {
    const roi = calculateROI(row.profit, row.cane);
    const scenarioLabel = (i === data.length - 1) ? activeScenario.toUpperCase() : "-";

    table.innerHTML += `
      <tr>
        <td>${row.year}</td>
        <td>${row.cane.toLocaleString()}</td>
        <td>${row.yield}</td>
        <td>${row.profit.toLocaleString()}</td>
        <td>${roi}</td>
        <td>${scenarioLabel}</td>
      </tr>
    `;

    years.push(row.year);
    caneData.push(row.cane);
    yieldData.push(row.yield);
    profitData.push(row.profit);
    roiData.push(parseFloat(roi));
  });

  const ctx = document.getElementById("forecastChart").getContext("2d");
  if (window.forecastChart) window.forecastChart.destroy();
  window.forecastChart = new Chart(ctx, {
    type: "line",
    data: {
      labels: years,
      datasets: [
        { label: "‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏≠‡πâ‡∏≠‡∏¢ (‡∏ï‡∏±‡∏ô)", data: caneData, borderColor: "#16a34a", tension: 0.3, fill: false },
        { label: "Yield (‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•)", data: yieldData, borderColor: "#3b82f6", tension: 0.3, fill: false },
        { label: "‡∏Å‡∏≥‡πÑ‡∏£ (‡∏ö‡∏≤‡∏ó)", data: profitData, borderColor: "#f59e0b", tension: 0.3, fill: false },
        { label: "ROI (%)", data: roiData, borderColor: "#ef4444", tension: 0.3, fill: false }
      ]
    },
    options: {
      responsive: true,
      plugins: {
        title: { display: true, text: `‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á (${activeScenario.toUpperCase()})` }
      },
      scales: { y: { beginAtZero: false } }
    }
  });
}

function toggleScenario() {
  if (activeScenario === "neutral") activeScenario = "optimistic";
  else if (activeScenario === "optimistic") activeScenario = "pessimistic";
  else activeScenario = "neutral";
  renderTableAndChart();
}

window.addEventListener("DOMContentLoaded", renderTableAndChart);
</script>
</body>
</html>
